(this.webpackJsonp=this.webpackJsonp||[]).push([[371],{"3XZy":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/lV4");const s=Object(r.a)("Confidentiality"),i={ANY:{label:Object(r.a)("Any"),value:null},CONFIDENTIAL:{label:Object(r.a)("Confidential"),value:"yes"},NOT_CONFIDENTIAL:{label:Object(r.a)("Not confidential"),value:"no"}},a={ISSUES:"issues"},o={header:s,filters:i,scopes:a,filterByScope:{[a.ISSUES]:[i.ANY,i.CONFIDENTIAL,i.NOT_CONFIDENTIAL]},filterParam:"confidential"}},"3lQS":function(e,t,n){"use strict";var r=n("tbP8"),s=n("FxFN"),i=n("5c3i"),a={components:{GlAvatar:r.a},props:{projectId:{type:[Number,String],default:0,required:!1,validator:e=>"string"!=typeof e||Object(s.h)(e)},projectName:{type:String,required:!0},projectAvatarUrl:{type:String,required:!1,default:""},size:{type:Number,default:32,required:!1},alt:{type:String,required:!1,default:void 0}},computed:{avatarAlt(){var e;return null!==(e=this.alt)&&void 0!==e?e:this.projectName},entityId(){return Object(s.h)(this.projectId)?Object(s.e)(this.projectId):this.projectId}},AVATAR_SHAPE_OPTION_RECT:i.a},o=n("tBpV"),l=Object(o.a)(a,(function(){return(0,this._self._c)("gl-avatar",{attrs:{shape:this.$options.AVATAR_SHAPE_OPTION_RECT,"entity-id":this.entityId,"entity-name":this.projectName,src:this.projectAvatarUrl,alt:this.avatarAlt,size:this.size,"fallback-on-error":!0,itemprop:"image"}})}),[],!1,null,null,null);t.a=l.exports},"5tFN":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"h",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return u}));const r="Escape",s="Enter",i="NumpadEnter",a="Backspace",o="ArrowDown",l="ArrowUp",c="End",u="Home"},"8Igx":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=function(e="",...t){console.error("[gitlab]",e+"\n",...t)}},"9lRJ":function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"n",(function(){return m})),n.d(t,"j",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return _})),n.d(t,"o",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"k",(function(){return E})),n.d(t,"m",(function(){return S})),n.d(t,"l",(function(){return b})),n.d(t,"e",(function(){return O}));var r=n("SH8K"),s=n("3XZy"),i=n("W+L/"),a=n("dnFX"),o=n("MYsM");const l=5,c=5,u="global-search-frequent-groups",d="global-search-frequent-projects",m=[r.a.filterParam,s.a.filterParam,i.c.filterParam,a.e.filterParam,o.c.filterParam],h="regex",p={notation:"compact",compactDisplay:"short"},_={blobs:"code",issues:"issues",epics:"epic",merge_requests:"merge-request",commits:"commit",notes:"comments",milestones:"milestone",users:"users",projects:"project",wiki_blobs:"book",snippet_titles:"snippet"},f="zoekt",g="advanced",v="basic",E="global",S="project",b="group",O=h+"_advanced_search"},CdGJ:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.fake-input[data-v-30d6e4d5] {\n  position: absolute;\n  top: 14px;\n  left: 39px;\n}\n",""])},Eqlq:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CurrentUserFrecentGroups"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"frecentGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"namespace"},name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:122}};n.loc.source={body:"query CurrentUserFrecentGroups {\n  frecentGroups {\n    id\n    name\n    namespace: fullName\n    webUrl\n    avatarUrl\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.CurrentUserFrecentGroups=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var r=s(e,t);r&&n.definitions.push(r)})),n}(n,"CurrentUserFrecentGroups")},Htnb:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("3UXl"),n("iyoE");var r=n("PxiM"),s=n.n(r),i=n("D+x4");function a(e,t="",n="<b>",r="</b>"){if(!e)return"";if(!t)return e;const a=Object(i.b)(e.toString(),{ALLOWED_TAGS:[]}),o=s.a.match(a,t.toString());return a.split("").map((function(e,t){return o.includes(t)?`${n}${e}${r}`:e})).join("")}},JTkt:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));const r=document.createElement("div"),s=function(e){return r.style.color="",r.style.color=e,r.style.color.length>0},i=function(e=""){return e?/^#([0-9A-F]{3}){1,2}$/i.test(e):null};function a(){var e;const t=["dark","solarized-dark","monokai"];var n;return(null===(e=document.body.dataset.page)||void 0===e?void 0:e.startsWith("ide:"))?t.includes(null===(n=window.gon)||void 0===n?void 0:n.user_color_scheme):document.documentElement.classList.contains("gl-dark")}},MQhr:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.input-box-wrapper[data-v-2265d270] {\n  position: relative;\n}\n.fake-input-wrapper[data-v-2265d270] {\n  position: absolute;\n}\n",""])},MYsM:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l}));var r=n("/lV4");const s=Object(r.g)("GlobalSearch|Archived"),i=Object(r.g)("GlobalSearch|Include archived"),a="search:archived:select",o="checkbox",l={headerLabel:s,checkboxLabel:i,scopes:["projects","issues","merge_requests","notes","blobs","commits","milestones","wiki_blobs"],filterParam:"include_archived"}},SH8K:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("/lV4");const s=Object(r.a)("Status"),i={ANY:{label:Object(r.a)("Any"),value:null},OPEN:{label:Object(r.a)("Open"),value:"opened"},CLOSED:{label:Object(r.a)("Closed"),value:"closed"},MERGED:{label:Object(r.a)("Merged"),value:"merged"}},a={ISSUES:"issues",MERGE_REQUESTS:"merge_requests"},o={header:s,filters:i,scopes:a,filterByScope:{[a.ISSUES]:[i.ANY,i.OPEN,i.CLOSED],[a.MERGE_REQUESTS]:[i.ANY,i.OPEN,i.MERGED,i.CLOSED]},filterParam:"state"}},"W+L/":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var r=n("/lV4");const s=10,i=100,a={header:Object(r.g)("GlobalSearch|Language"),scopes:{BLOBS:"blobs"},filterParam:"language"}},YYYz:function(e,t,n){"use strict";n.r(t);n("eJ0a");var r=n("Tmea"),s=n.n(r),i=(n("aFm2"),n("z6RN"),n("R9qC"),n("iN9h")),a=n("1cpz"),o=n("yi8e"),l=n("ygVz"),c=n("3twG"),u=n("GuZl"),d=n("/lV4"),m=n("5tFN"),h=n("gr1G"),p=n("tTlX"),_=n("JTkt"),f=n("B3M1"),g=n("dowq");var v=n("F/pm"),E=(n("3UXl"),n("iyoE"),n("RFHG"),n("xuo1"),n("UezY"),n("hG7+"),n("v2fZ"),n("PxiM")),S=n.n(E),b=n("fSQg"),O=n("FkSe"),y=n("7F3p"),C=n("2ibD"),T=n("8Igx"),k=n("h2IV"),x=n("I4EJ"),R=n("tbP8"),A=n("s1D3"),I=n("Mp8J"),w=n("Htnb"),L=n("5c3i"),N={name:"CommandPaletteSearchItem",components:{GlAvatar:R.a,GlIcon:A.a},directives:{SafeHtml:I.a},props:{item:{type:Object,required:!0},searchQuery:{type:String,required:!0}},computed:{highlightedName(){return Object(w.a)(this.item.text,this.searchQuery)}},AVATAR_SHAPE_OPTION_RECT:L.a},j=n("tBpV"),P=Object(j.a)(N,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-display-flex gl-align-items-center"},[void 0!==e.item.avatar_url?t("gl-avatar",{staticClass:"gl-mr-3",attrs:{src:e.item.avatar_url,"entity-id":e.item.entity_id,"entity-name":e.item.entity_name,size:e.item.avatar_size,shape:e.$options.AVATAR_SHAPE_OPTION_RECT,"aria-hidden":"true"}}):e._e(),e._v(" "),e.item.icon?t("gl-icon",{staticClass:"gl-mr-3 gl-flex-shrink-0",attrs:{name:e.item.icon}}):e._e(),e._v(" "),t("span",{staticClass:"gl-display-flex gl-flex-direction-column"},[t("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.highlightedName,expression:"highlightedName"}],staticClass:"gl-text-gray-900"}),e._v(" "),e.item.namespace?t("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.item.namespace,expression:"item.namespace"}],staticClass:"gl-font-sm gl-text-gray-500"}):e._e()])],1)}),[],!1,null,null,null).exports,D=n("nUKU"),G=n.n(D),U=n("59DU"),$=n.n(U),M=n("3cHC");const F=function({name:e,items:t}){return{name:e||x.e,items:t.filter((function({component:e}){return"invite_members"!==e}))}},H=function(e,t){var n;const r=function({id:e,title:t}){return{extraAttrs:{"data-track-action":x.G,"data-track-label":e||M.x,...e?{}:{"data-track-extra":JSON.stringify({title:t})}}}};if(e.push({text:t.title,keywords:t.title,icon:t.icon,href:t.link,...r(t)}),null!==(n=t.items)&&void 0!==n&&n.length){const n=t.items.map((function(e){return{keywords:e.title,text:[t.title,e.title].join(" > "),href:e.link,icon:t.icon,...r(e)}}));e=[...e,...n]}return e},q=function(e,t){return{icon:"doc-code",text:t,href:Object(c.D)(e,t),extraAttrs:{"data-track-action":x.G,"data-track-label":"file"}}};var V={name:"CommandPaletteItems",components:{GlDisclosureDropdownGroup:b.a,GlLoadingIcon:O.a,SearchItem:P},mixins:[l.b.mixin()],inject:["commandPaletteCommands","commandPaletteLinks","autocompletePath","settingsPath","searchContext","projectFilesPath","projectBlobPath"],props:{searchQuery:{type:String,required:!0},handle:{type:String,required:!0,validator:function(e){return[...x.b,x.v].includes(e)}}},data:function(){return{groups:[],loading:!1,projectFiles:[],debouncedSearch:s()((function(){switch(this.handle){case x.a:this.getCommandsAndPages();break;case x.J:case x.x:case x.i:this.getScopedItems();break;case x.v:this.getProjectFiles()}}),u.h),settings:[]}},computed:{isCommandMode(){return this.handle===x.a},isPathMode(){return this.handle===x.v},commands(){return this.commandPaletteCommands.map(F)},links(){return this.commandPaletteLinks.reduce(H,[])},filteredCommands(){var e=this;return this.searchQuery?this.commands.map((function({name:t,items:n}){return{name:t,items:e.filterBySearchQuery(n,"text")}})).filter((function({items:e}){return e.length})):this.commands},hasResults(){var e;return(null===(e=this.groups)||void 0===e?void 0:e.length)&&this.groups.some((function(e){var t;return null===(t=e.items)||void 0===t?void 0:t.length}))},hasSearchQuery(){var e,t;return this.isCommandMode||this.isPathMode?(null===(t=this.searchQuery)||void 0===t?void 0:t.length)>0:(null===(e=this.searchQuery)||void 0===e?void 0:e.length)>2},searchTerm(){return this.handle===x.i?`${x.i}${this.searchQuery}`:this.searchQuery},filteredProjectFiles(){return this.searchQuery?this.filterBySearchQuery(this.projectFiles,"text").slice(0,x.j):this.projectFiles.slice(0,x.j)}},watch:{searchQuery:{handler(){this.debouncedSearch()},immediate:!0},handle:{handler(e,t){var n;void 0!==t&&this.debouncedSearch();const r=null!==(n=x.H[e])&&void 0!==n?n:"unknown";this.track(x.F,{label:r}),e===x.a&&this.fetchSettings()},immediate:!0}},updated(){this.$emit("updated")},methods:{async fetchSettings(){var e=this;const t=this.searchContext.project.id;t&&await C.a.get(`${this.settingsPath}?project_id=${t}`).then((function(t){e.settings=t.data})).catch((function(t){Object(T.a)(t),e.settings=[]}))},filterBySearchQuery(e,t="keywords"){return S.a.filter(e,this.searchQuery,{key:t})},async getProjectFiles(){if(!this.projectFiles.length){this.loading=!0;try{const e=await C.a.get(this.projectFilesPath);this.projectFiles=null==e?void 0:e.data.map(q.bind(null,this.projectBlobPath))}catch(e){y.a(e)}finally{this.loading=!1}}this.groups=[{name:x.u,items:this.filteredProjectFiles}]},getCommandsAndPages(){if(!this.searchQuery)return void(this.groups=[...this.commands]);this.groups=[...this.filteredCommands];const e=this.filterBySearchQuery(this.links);e.length&&this.groups.push({name:x.t,items:e});const t=this.filterBySearchQuery(this.settings,"text");t.length&&this.groups.push({name:x.E,items:t})},async getScopedItems(){var e;if(!((null===(e=this.searchQuery)||void 0===e?void 0:e.length)<3)){this.loading=!0;try{var t;const e=await C.a.get(function({path:e,searchTerm:t,handle:n,projectId:r}){const s=G()({term:t,project_id:r,filter:"search",scope:x.C[n]},$.a);return`${e}?${Object(c.F)(s)}`}({path:this.autocompletePath,searchTerm:this.searchTerm,handle:this.handle,projectId:null===(t=this.searchContext.project)||void 0===t?void 0:t.id}));this.groups=[{name:x.g[this.handle],items:e.data.map(k.b)}]}catch(e){y.a(e)}finally{this.loading=!1}}}}},Q=Object(j.a)(V,(function(){var e=this,t=e._self._c;return t("div",[e.loading?t("gl-loading-icon",{staticClass:"gl-my-5",attrs:{size:"lg"}}):e.hasResults?t("ul",{staticClass:"gl-p-0 gl-m-0 gl-list-none"},e._l(e.groups,(function(n,r){return t("gl-disclosure-dropdown-group",{key:r,class:{"gl-mt-0!":0===r},attrs:{group:n,bordered:""},scopedSlots:e._u([{key:"list-item",fn:function({item:n}){return[t("search-item",{attrs:{item:n,"search-query":e.searchQuery}})]}}],null,!0)})})),1):e.hasSearchQuery&&!e.hasResults?t("div",{staticClass:"gl-text-gray-700 gl-pl-5 gl-py-3"},[e._v("\n    "+e._s(e.__("No results found"))+"\n  ")]):e._e()],1)}),[],!1,null,null,null).exports,B={name:"FakeSearchInput",props:{userInput:{type:String,required:!0},scope:{type:String,required:!0,validator:function(e){return[...x.b,x.v].includes(e)}}},computed:{placeholder(){return x.D[this.scope]}}},Y=n("LPAU"),J=n.n(Y),z=n("CdGJ"),K=n.n(z),W={insert:"head",singleton:!1},X=(J()(K.a,W),K.a.locals,Object(j.a)(B,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-display-flex gl-pointer-events-none fake-input"},[t("span",{staticClass:"gl-opacity-0",attrs:{"data-testid":"search-scope"}},[e._v(e._s(e.scope)+" ")]),e._v(" "),e.userInput?e._e():t("span",{staticClass:"gl-text-gray-500 gl-pointer-events-none",attrs:{"data-testid":"search-scope-placeholder"}},[e._v(e._s(e.placeholder))])])}),[],!1,null,"30d6e4d5",null).exports),Z=n("S3Ko"),ee=n.n(Z),te=n("30su"),ne=n("R0j4"),re={name:"CommandPaletteLottery",components:{GlSprintf:te.a},directives:{SafeHtml:ne.a},i18n:[Object(d.g)("GlobalSearch|Type %{linkStart}@%{linkEnd} to search for users"),Object(d.g)("GlobalSearch|Type %{linkStart}&gt;%{linkEnd} to search for pages or actions"),Object(d.g)("GlobalSearch|Type %{linkStart}:%{linkEnd} to search for projects"),Object(d.g)("GlobalSearch|Type %{linkStart}~%{linkEnd} to search for files")],computed:{getTipNum(){const e=this.$options.i18n.length-1;return ee()(0,e)}}},se=Object(j.a)(re,(function(){var e=this,t=e._self._c;return t("span",[t("gl-sprintf",{attrs:{message:e.$options.i18n[e.getTipNum]},scopedSlots:e._u([{key:"link",fn:function({content:n}){return[t("kbd",{directives:[{name:"safe-html",rawName:"v-safe-html",value:n,expression:"content"}],staticClass:"gl-font-base gl-py-2 vertical-align-normalization"},[e._v(e._s(n))])]}}])})],1)}),[],!1,null,null,null).exports,ie=n("crTv");const ae=l.a.mixin();var oe={name:"CommandsOverviewDropdown",components:{GlCollapsibleListbox:ie.a,GlSprintf:te.a},mixins:[ae],i18n:{header:Object(d.g)("GlobalSearch|I'm looking for"),button:Object(d.g)("GlobalSearch|Commands %{link1Start}⌘%{link1End} %{link2Start}k%{link2End}")},props:{items:{type:Array,required:!0}},methods:{emitSelected(e){this.$emit("selected",e)},emitHidden(){this.$emit("hidden")},open(){this.$refs.commandsDropdown.open()},close(){this.$refs.commandsDropdown.close()}},EVENT_CLICK_COMMANDS_SUB_MENU_IN_COMMAND_PALETTE:"click_commands_sub_menu_in_command_palette"},le=Object(j.a)(oe,(function(){var e=this,t=e._self._c;return t("div",[t("gl-collapsible-listbox",{ref:"commandsDropdown",attrs:{items:e.items,"header-text":e.$options.i18n.header,category:"tertiary"},on:{select:e.emitSelected,shown:function(t){return e.trackEvent(e.$options.EVENT_CLICK_COMMANDS_SUB_MENU_IN_COMMAND_PALETTE)},hidden:e.emitHidden},scopedSlots:e._u([{key:"toggle",fn:function(){return[t("button",{staticClass:"gl-border-0 gl-rounded-base"},[t("gl-sprintf",{attrs:{message:e.$options.i18n.button},scopedSlots:e._u([{key:"link1",fn:function({content:n}){return[t("kbd",{staticClass:"gl-font-base gl-py-2 vertical-align-normalization"},[e._v(e._s(n))])]}},{key:"link2",fn:function({content:n}){return[t("kbd",{staticClass:"gl-font-base gl-py-2 vertical-align-normalization"},[e._v(e._s(n))])]}}])})],1)]},proxy:!0},{key:"header",fn:function(){return[t("span",{staticClass:"gl-p-4 gl-border-b-1 gl-border-b-solid gl-border-gray-200"},[e._v("\n        "+e._s(e.$options.i18n.header)+"\n      ")])]},proxy:!0},{key:"list-item",fn:function({item:n}){return[t("span",{staticClass:"gl-display-flex gl-align-items-center gl-justify-content-space-between"},[t("span",{attrs:{"data-testid":"listbox-item-text"}},[e._v(e._s(n.text))]),e._v(" "),t("kbd",[e._v(e._s(n.value))])])]}}])})],1)}),[],!1,null,null,null).exports,ce=n("dsWN"),ue={name:"SearchResultHoverLayover",components:{GlSprintf:te.a},props:{textMessage:{type:String,required:!0}}},de=Object(j.a)(ue,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"gl-display-flex gl-justify-content-space-between gl-align-items-center gl-gap-3 gl-min-w-0"},[t("span",{staticClass:"gl-display-flex gl-gap-3 gl-flex-grow-1 gl-min-w-0"},[e._t("default")],2),e._v(" "),t("span",{staticClass:"show-hover-layover-hint gl-opacity-0 gl-justify-content-end gl-align-items-center gl-hidden sm:gl-flex"},[t("span",{staticClass:"gl-text-gray-700 gl-whitespace-nowrap",attrs:{"data-testid":"overlay-message"}},[t("gl-sprintf",{attrs:{message:e.textMessage},scopedSlots:e._u([{key:"kbd",fn:function({content:n}){return[t("kbd",{staticClass:"gl-font-base gl-pb-3 vertical-align-normalization gl-align-middle"},[e._v("\n            "+e._s(n)+"\n          ")])]}}])})],1)])])}),[],!1,null,null,null).exports,me={name:"GlobalSearchNoResults",i18n:{NO_SEARCH_RESULTS:h.A}},he=Object(j.a)(me,(function(){var e=this._self._c;return e("ul",{staticClass:"gl-m-0 gl-p-0 gl-list-none"},[e("li",{staticClass:"command-palette-px gl-py-5 gl-text-body"},[this._v("\n    "+this._s(this.$options.i18n.NO_SEARCH_RESULTS)+"\n  ")])])}),[],!1,null,null,null).exports;const pe=l.a.mixin();var _e={name:"GlobalSearchAutocompleteItems",i18n:{AUTOCOMPLETE_ERROR_MESSAGE:h.b,NO_SEARCH_RESULTS:h.A,OVERLAY_GOTO:x.p,OVERLAY_PROFILE:x.q,OVERLAY_PROJECT:x.r,OVERLAY_FILE:x.o,USERS_GROUP_TITLE:x.I,PROJECTS_GROUP_TITLE:x.w,ISSUES_GROUP_TITLE:x.h,PAGES_GROUP_TITLE:x.t,GROUPS_GROUP_TITLE:x.f,MERGE_REQUESTS_GROUP_TITLE:Object(d.g)("GlobalSearch|Merge Requests"),RECENT_ISSUES_GROUP_TITLE:Object(d.g)("GlobalSearch|Recent issues"),RECENT_EPICS_GROUP_TITLE:Object(d.g)("GlobalSearch|Recent epics"),RECENT_MERGE_REQUESTS_GROUP_TITLE:Object(d.g)("GlobalSearch|Recent merge requests")},components:{GlAvatar:R.a,GlAlert:ce.a,GlLoadingIcon:O.a,GlDisclosureDropdownGroup:b.a,SearchResultHoverLayover:de,GlobalSearchNoResults:he},directives:{SafeHtml:I.a},mixins:[pe],computed:{...Object(o.f)(["search","loading","autocompleteError"]),...Object(o.d)(["autocompleteGroupedSearchOptions","scopedSearchOptions"]),groups(){return this.autocompleteGroupedSearchOptions.map((function(e){var t;return{name:null==e?void 0:e.name,items:null==e||null===(t=e.items)||void 0===t?void 0:t.map((function(e){return{...e,extraAttrs:{class:"show-hover-layover gl-display-flex gl-align-items-center gl-justify-content-space-between"}}}))}}))},hasResults(){var e;return(null===(e=this.autocompleteGroupedSearchOptions)||void 0===e?void 0:e.length)>0},hasNoResults(){return!this.hasResults&&!this.autocompleteError}},methods:{highlightedName(e){return Object(w.a)(e,this.search)},overlayText(e){let t=x.p;switch(e){case this.$options.i18n.USERS_GROUP_TITLE:t=this.$options.i18n.OVERLAY_PROFILE;break;case this.$options.i18n.PROJECTS_GROUP_TITLE:t=this.$options.i18n.OVERLAY_PROJECT;break;case this.$options.i18n.ISSUES_GROUP_TITLE:t=this.$options.i18n.OVERLAY_GOTO;break;case this.$options.i18n.PAGES_GROUP_TITLE:t=this.$options.i18n.OVERLAY_FILE}return t},trackingTypes({name:e}){switch(e){case this.$options.i18n.PROJECTS_GROUP_TITLE:this.trackEvent("click_project_result_in_command_palette");break;case this.$options.i18n.GROUPS_GROUP_TITLE:this.trackEvent("click_group_result_in_command_palette");break;case this.$options.i18n.MERGE_REQUESTS_GROUP_TITLE:this.trackEvent("click_merge_request_result_in_command_palette");break;case this.$options.i18n.ISSUES_GROUP_TITLE:this.trackEvent("click_issue_result_in_command_palette");break;case this.$options.i18n.RECENT_ISSUES_GROUP_TITLE:this.trackEvent("click_recent_issue_result_in_command_palette");break;case this.$options.i18n.RECENT_EPICS_GROUP_TITLE:this.trackEvent("click_recent_epic_result_in_command_palette");break;case this.$options.i18n.RECENT_MERGE_REQUESTS_GROUP_TITLE:this.trackEvent("click_recent_merge_request_result_in_command_palette");break;default:this.trackEvent("click_user_result_in_command_palette")}}},AVATAR_SHAPE_OPTION_RECT:L.a},fe=Object(j.a)(_e,(function(){var e=this,t=e._self._c;return t("div",[e.autocompleteError?t("gl-alert",{staticClass:"gl-text-body gl-mt-2",attrs:{dismissible:!1,variant:"danger"}},[e._v("\n    "+e._s(e.$options.i18n.AUTOCOMPLETE_ERROR_MESSAGE)+"\n  ")]):e._e(),e._v(" "),!e.loading&&e.hasResults?t("ul",{staticClass:"gl-m-0 gl-p-0 gl-list-none"},e._l(e.groups,(function(n,r){return t("gl-disclosure-dropdown-group",{key:n.name,class:{"gl-mt-0!":0===r},attrs:{group:n,bordered:""},on:{action:e.trackingTypes},scopedSlots:e._u([{key:"list-item",fn:function({item:r}){return[t("search-result-hover-layover",{attrs:{"text-message":e.overlayText(n.name)}},[void 0!==r.avatar_url?t("gl-avatar",{attrs:{src:r.avatar_url,"entity-id":r.entity_id,"entity-name":r.entity_name,size:r.avatar_size,shape:e.$options.AVATAR_SHAPE_OPTION_RECT,"aria-hidden":"true"}}):e._e(),e._v(" "),t("span",{staticClass:"gl-display-flex gl-flex-direction-column gl-flex-grow-1 gl-min-w-0"},[t("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.highlightedName(r.text),expression:"highlightedName(item.text)"}],staticClass:"gl-text-gray-900 gl-text-truncate",attrs:{"data-testid":"autocomplete-item-name"}}),e._v(" "),r.value?t("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:r.namespace,expression:"item.namespace"}],staticClass:"gl-font-sm gl-text-gray-500 gl-text-truncate",attrs:{"data-testid":"autocomplete-item-namespace"}}):e._e()])],1)]}}],null,!0)})})),1):e._e(),e._v(" "),e.loading?t("gl-loading-icon",{staticClass:"gl-my-6",attrs:{size:"lg"}}):e._e(),e._v(" "),e.hasNoResults?t("global-search-no-results"):e._e()],1)}),[],!1,null,null,null).exports,ge=(n("B++/"),n("47t/"),n("wCL9")),ve=n.n(ge);const Ee=l.a.mixin();var Se={name:"DefaultPlaces",i18n:{PLACES:h.B,OVERLAY_CHANGE_CONTEXT:x.n,YOUR_WORK_TITLE:Object(d.g)("GlobalSearch|Your work"),EXPLORE_TITLE:Object(d.g)("GlobalSearch|Explore"),PROFILE_TITLE:Object(d.g)("GlobalSearch|Profile"),PREFERENCES_TITLE:Object(d.g)("GlobalSearch|Preferences")},components:{GlDisclosureDropdownGroup:b.a,SearchResultHoverLayover:de},mixins:[Ee],inject:["contextSwitcherLinks"],computed:{shouldRender(){return this.contextSwitcherLinks.length>0},group(){return{name:this.$options.i18n.PLACES,items:this.contextSwitcherLinks.map((function({title:e,link:t,...n}){return{text:e,href:t,extraAttrs:{"data-track-action":x.G,"data-track-label":M.x,"data-track-property":M.y,"data-track-extra":JSON.stringify({title:e}),"data-testid":"places-item-link","data-qa-places-item":e,class:"show-hover-layover",...Object.entries(n).reduce((function(e,[t,n]){return t.startsWith("data")&&(e[ve()(t)]=n),e}),{})}}}))}}},created(){this.shouldRender||this.$emit("nothing-to-render")},methods:{trackingTypes({text:e}){switch(e){case this.$options.i18n.YOUR_WORK_TITLE:this.trackEvent("click_your_work_in_command_palette");break;case this.$options.i18n.EXPLORE_TITLE:this.trackEvent("click_explore_in_command_palette");break;case this.$options.i18n.PROFILE_TITLE:this.trackEvent("click_profile_in_command_palette");break;case this.$options.i18n.PREFERENCES_TITLE:this.trackEvent("click_preferences_in_command_palette")}}}},be=Object(j.a)(Se,(function(){var e=this,t=e._self._c;return e.shouldRender?t("gl-disclosure-dropdown-group",e._b({attrs:{group:e.group},on:{action:e.trackingTypes},scopedSlots:e._u([{key:"list-item",fn:function({item:n}){return[t("search-result-hover-layover",{attrs:{"text-message":e.$options.i18n.OVERLAY_CHANGE_CONTEXT}},[t("span",[e._v(e._s(n.text))])])]}}],null,!1,3096787143)},"gl-disclosure-dropdown-group",e.$attrs,!1)):e._e()}),[],!1,null,null,null).exports;const Oe=l.a.mixin();var ye={name:"DefaultIssuables",i18n:{ALL_GITLAB:h.a,OVERLAY_GOTO:x.p,ISSUES_ASSIGNED_TO_ME_TITLE:Object(d.g)("GlobalSearch|Issues assigned to me"),ISSUES_I_HAVE_CREATED_TITLE:Object(d.g)("GlobalSearch|Issues I've created"),MERGE_REQUESTS_THAT_I_AM_A_REVIEWER:Object(d.g)("GlobalSearch|Merge requests that I'm a reviewer"),MERGE_REQUESTS_I_HAVE_CREATED_TITLE:Object(d.g)("GlobalSearch|Merge requests I've created"),MERGE_REQUESTS_ASSIGNED_TO_ME_TITLE:Object(d.g)("GlobalSearch|Merge requests assigned to me")},components:{GlDisclosureDropdownGroup:b.a,SearchResultHoverLayover:de},mixins:[Oe],computed:{...Object(o.f)(["searchContext"]),...Object(o.d)(["defaultSearchOptions"]),currentContextName(){var e,t;return(null===(e=this.searchContext)||void 0===e||null===(e=e.project)||void 0===e?void 0:e.name)||(null===(t=this.searchContext)||void 0===t||null===(t=t.group)||void 0===t?void 0:t.name)||this.$options.i18n.ALL_GITLAB},shouldRender(){return this.group.items.length>0},group(){var e;return{name:this.currentContextName,items:null===(e=this.defaultSearchOptions)||void 0===e?void 0:e.map((function(e){return{...e,extraAttrs:{class:"show-hover-layover"}}}))}}},created(){this.shouldRender||this.$emit("nothing-to-render")},methods:{trackingTypes({text:e}){switch(e){case this.$options.i18n.ISSUES_ASSIGNED_TO_ME_TITLE:this.trackEvent("click_issues_assigned_to_me_in_command_palette");break;case this.$options.i18n.ISSUES_I_HAVE_CREATED_TITLE:this.trackEvent("click_issues_i_created_in_command_palette");break;case this.$options.i18n.MERGE_REQUESTS_ASSIGNED_TO_ME_TITLE:this.trackEvent("click_merge_requests_assigned_to_me_in_command_palette");break;case this.$options.i18n.MERGE_REQUESTS_THAT_I_AM_A_REVIEWER:this.trackEvent("click_merge_requests_that_im_a_reviewer_in_command_palette");break;case this.$options.i18n.MERGE_REQUESTS_I_HAVE_CREATED_TITLE:this.trackEvent("click_merge_requests_i_created_in_command_palette")}}}},Ce=Object(j.a)(ye,(function(){var e=this,t=e._self._c;return e.shouldRender?t("gl-disclosure-dropdown-group",e._b({attrs:{group:e.group},on:{action:e.trackingTypes},scopedSlots:e._u([{key:"list-item",fn:function({item:n}){return[t("search-result-hover-layover",{attrs:{"text-message":e.$options.i18n.OVERLAY_GOTO}},[t("span",[e._v(e._s(n.text))])])]}}],null,!1,2103025810)},"gl-disclosure-dropdown-group",e.$attrs,!1)):e._e()}),[],!1,null,null,null).exports,Te=n("Eqlq"),ke=n.n(Te),xe=n("XiQx"),Re=n("0AwG"),Ae=n("3lQS"),Ie={name:"FrequentlyVisitedItem",i18n:{OVERLAY_GOTO:x.p},components:{ProjectAvatar:Ae.a,SearchResultHoverLayover:de},props:{item:{type:Object,required:!0}}},we=Object(j.a)(Ie,(function(){var e=this,t=e._self._c;return t("search-result-hover-layover",{attrs:{"text-message":e.$options.i18n.OVERLAY_GOTO}},[t("project-avatar",{attrs:{"project-id":e.item.id,"project-name":e.item.title,"project-avatar-url":e.item.avatar,size:32,"aria-hidden":"true"}}),e._v(" "),t("div",{staticClass:"gl-flex-grow-1 gl-text-truncate"},[e._v("\n    "+e._s(e.item.title)+"\n    "),e.item.subtitle?t("div",{staticClass:"gl-font-sm gl-text-gray-500 gl-text-truncate",attrs:{"data-testid":"subtitle"}},[e._v("\n      "+e._s(e.item.subtitle)+"\n    ")]):e._e()])],1)}),[],!1,null,null,null).exports,Le={components:{GlSkeletonLoader:n("4+8U").a}},Ne=Object(j.a)(Le,(function(){var e=this._self._c;return e("gl-skeleton-loader",{attrs:{width:737,height:48}},[e("rect",{attrs:{width:"24",height:"24",y:"12",x:"8"}}),this._v(" "),e("rect",{attrs:{width:"120",height:"12",y:"10",x:"36"}}),this._v(" "),e("rect",{attrs:{width:"100",height:"12",y:"26",x:"36"}})])}),[],!1,null,null,null).exports,je={name:"FrequentlyVisitedItems",i18n:{OVERLAY_GOTO:x.p},components:{GlDisclosureDropdownGroup:b.a,GlDisclosureDropdownItem:xe.b,GlIcon:A.a,FrequentItem:we,FrequentItemSkeleton:Ne,SearchResultHoverLayover:de},props:{loading:{type:Boolean,required:!1,default:!1},emptyStateText:{type:String,required:!0},groupName:{type:String,required:!0},viewAllItemsText:{type:String,required:!0},viewAllItemsIcon:{type:String,required:!0},viewAllItemsPath:{type:String,required:!1,default:null},items:{type:Array,required:!1,default:function(){return[]}}},computed:{formattedItems(){return this.items.map((function(e){return{forDropdown:{id:e.id,text:e.name,href:e.webUrl,extraAttrs:{"data-track-action":x.G,"data-track-label":e.id,"data-track-property":M.y,"data-track-extra":JSON.stringify({title:e.name})}},forRenderer:{id:e.id,title:e.name,subtitle:Object(Re.C)(e.namespace),avatar:e.avatarUrl}}}))},showEmptyState(){return!this.loading&&0===this.formattedItems.length},viewAllItem(){return{text:this.viewAllItemsText,href:this.viewAllItemsPath}}}},Pe=Object(j.a)(je,(function(){var e=this,t=e._self._c;return t("gl-disclosure-dropdown-group",e._b({scopedSlots:e._u([{key:"group-label",fn:function(){return[e._v(e._s(e.groupName))]},proxy:!0}])},"gl-disclosure-dropdown-group",e.$attrs,!1),[e._v(" "),e.loading?t("gl-disclosure-dropdown-item",[t("frequent-item-skeleton")],1):e._l(e.formattedItems,(function(n){return t("gl-disclosure-dropdown-item",{key:n.forDropdown.id,staticClass:"show-on-focus-or-hover--context show-hover-layover",attrs:{item:n.forDropdown},on:{action:function(t){return e.$emit("action")}},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("frequent-item",{attrs:{item:n.forRenderer}})]},proxy:!0}],null,!0)})})),e._v(" "),e.showEmptyState?t("gl-disclosure-dropdown-item",{staticClass:"gl-cursor-text"},[t("span",{staticClass:"gl-text-gray-500 gl-font-sm gl-my-3 gl-mx-3"},[e._v(e._s(e.emptyStateText))])]):e._e(),e._v(" "),t("gl-disclosure-dropdown-item",{key:"all",staticClass:"show-hover-layover",attrs:{item:e.viewAllItem},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("search-result-hover-layover",{attrs:{"text-message":e.$options.i18n.OVERLAY_GOTO}},[t("gl-icon",{staticClass:"!gl-w-6",attrs:{name:e.viewAllItemsIcon}}),e._v("\n        "+e._s(e.viewAllItemsText)+"\n      ")],1)]},proxy:!0}])})],2)}),[],!1,null,null,null).exports,De={name:"FrequentlyVisitedGroups",apollo:{frecentGroups:{query:ke.a}},components:{FrequentItems:Pe},inject:["groupsPath"],i18n:{groupName:Object(d.g)("Navigation|Frequently visited groups"),viewAllText:Object(d.g)("Navigation|View all my groups"),emptyStateText:Object(d.g)("Navigation|Groups you visit often will appear here.")},FREQUENTLY_VISITED_GROUPS_HANDLE:x.c},Ge=Object(j.a)(De,(function(){var e=this;return(0,e._self._c)("frequent-items",e._g(e._b({attrs:{loading:e.$apollo.queries.frecentGroups.loading,"empty-state-text":e.$options.i18n.emptyStateText,"group-name":e.$options.i18n.groupName,items:e.frecentGroups,"view-all-items-icon":"group","view-all-items-text":e.$options.i18n.viewAllText,"view-all-items-path":e.groupsPath},on:{action:function(t){return e.$emit("action",e.$options.FREQUENTLY_VISITED_GROUPS_HANDLE)}}},"frequent-items",e.$attrs,!1),e.$listeners))}),[],!1,null,null,null).exports,Ue=n("erDj"),$e={name:"FrequentlyVisitedProjects",apollo:{frecentProjects:{query:n.n(Ue).a}},components:{FrequentItems:Pe},inject:["projectsPath"],i18n:{groupName:Object(d.g)("Navigation|Frequently visited projects"),viewAllText:Object(d.g)("Navigation|View all my projects"),emptyStateText:Object(d.g)("Navigation|Projects you visit often will appear here.")},FREQUENTLY_VISITED_PROJECTS_HANDLE:x.d};const Me=[be,Object(j.a)($e,(function(){var e=this;return(0,e._self._c)("frequent-items",e._g(e._b({attrs:{loading:e.$apollo.queries.frecentProjects.loading,"empty-state-text":e.$options.i18n.emptyStateText,"group-name":e.$options.i18n.groupName,items:e.frecentProjects,"view-all-items-icon":"project","view-all-items-text":e.$options.i18n.viewAllText,"view-all-items-path":e.projectsPath},on:{action:function(t){return e.$emit("action",e.$options.FREQUENTLY_VISITED_PROJECTS_HANDLE)}}},"frequent-items",e.$attrs,!1),e.$listeners))}),[],!1,null,null,null).exports,Ge,Ce];var Fe={name:"GlobalSearchDefaultItems",mixins:[l.a.mixin()],data:()=>({componentNames:Me.map((function({name:e}){return e}))}),methods:{componentFromName:e=>Me.find((function(t){return t.name===e})),remove(e){const t=this.componentNames.findIndex((function(t){return t===e}));-1!==t&&this.componentNames.splice(t,1)},attrs:e=>0===e?null:{bordered:!0,class:"gl-mt-3"},trackItems(e){switch(e){case x.d:this.trackEvent("click_frequent_project_in_command_palette");break;case x.c:this.trackEvent("click_frequent_group_in_command_palette")}}}},He=Object(j.a)(Fe,(function(){var e=this,t=e._self._c;return t("ul",{staticClass:"gl-p-0 gl-m-0 gl-pt-2 gl-list-none"},e._l(e.componentNames,(function(n,r){return t(e.componentFromName(n),e._b({key:n,tag:"component",on:{"nothing-to-render":function(t){return e.remove(n)},action:e.trackItems}},"component",e.attrs(r),!1))})),1)}),[],!1,null,null,null).exports;const qe=l.a.mixin();var Ve={name:"GlobalSearchScopedItems",components:{GlIcon:A.a,GlDisclosureDropdownGroup:b.a,SearchResultHoverLayover:de},mixins:[qe],i18n:{OVERLAY_SEARCH:x.s},computed:{...Object(o.f)(["search"]),...Object(o.d)(["scopedSearchGroup"]),group(){return{name:this.scopedSearchGroup.name,items:this.scopedSearchGroup.items.map((function(e){return{...e,href:e.text===x.A?Object(g.d)(e.href):e.href,scopeName:e.scope||e.description,extraAttrs:{class:"show-hover-layover"}}}))}}},methods:{titleLabel(e){return Object(d.h)(Object(d.g)("GlobalSearch|in %{scope}"),{search:this.search,scope:e.scope||e.description})},getTruncatedScope:e=>Object(Re.B)(e,v.g),trackingTypes({text:e}){switch(e){case this.$options.SCOPE_SEARCH_ALL:this.trackEvent("click_all_gitlab_scoped_search_to_advanced_search");break;case this.$options.SCOPE_SEARCH_GROUP:this.trackEvent("click_group_scoped_search_to_advanced_search");break;case this.$options.SCOPE_SEARCH_PROJECT:this.trackEvent("click_project_scoped_search_to_advanced_search")}}},SCOPE_SEARCH_ALL:x.y,SCOPE_SEARCH_GROUP:x.z,SCOPE_SEARCH_PROJECT:x.A},Qe=Object(j.a)(Ve,(function(){var e=this,t=e._self._c;return t("div",[t("ul",{staticClass:"gl-m-0 gl-p-0 gl-pb-2 gl-list-style-none",attrs:{"data-testid":"scoped-items"}},[t("gl-disclosure-dropdown-group",{attrs:{group:e.group,bordered:""},on:{action:e.trackingTypes},scopedSlots:e._u([{key:"list-item",fn:function({item:n}){return[t("search-result-hover-layover",{attrs:{"text-message":e.$options.i18n.OVERLAY_SEARCH}},[t("gl-icon",{staticClass:"gl-flex-shrink-0 gl-mr-2 gl-pt-2 -gl-mt-2 gl-text-gray-500",attrs:{name:"search-results"}}),e._v(" "),t("span",{staticClass:"gl-flex-grow-1"},[e._v("\n            "+e._s(n.scopeName)+"\n          ")])],1)]}}])})],1)])}),[],!1,null,null,null).exports;const Be=l.a.mixin();var Ye={name:"GlobalSearchModal",SEARCH_MODAL_ID:v.j,i18n:{COMMAND_PALETTE:h.c,SEARCH_DESCRIBED_BY_WITH_RESULTS:h.G,SEARCH_DESCRIBED_BY_DEFAULT:h.E,SEARCH_DESCRIBED_BY_UPDATED:h.F,SEARCH_OR_COMMAND_MODE_PLACEHOLDER:x.B,SEARCH_RESULTS_LOADING:h.H,MIN_SEARCH_TERM:h.t,COMMAND_PALETTE_TIP:h.k,COMMON_HANDLES:x.b},components:{GlSearchBoxByType:i.a,GlobalSearchDefaultItems:He,GlobalSearchScopedItems:Qe,GlobalSearchAutocompleteItems:fe,GlModal:a.a,CommandPaletteItems:Q,FakeSearchInput:X,CommandPaletteLottery:se,ScrollScrim:f.a,CommandsOverviewDropdown:le},mixins:[Be,p.a],data:()=>({nextFocusedItemIndex:null,commandPaletteDropdownItems:k.a,commandPaletteDropdownOpen:!1}),computed:{...Object(o.f)(["search","loading","searchContext","commandChar"]),...Object(o.d)(["searchQuery","searchOptions","scopedSearchOptions","isCommandMode"]),searchText:{get(){return this.search},set(e){if(this.stringHasCommand(e))return this.setCommand(this.stringFirstChar(e)),void this.setSearch(e);this.setCommand(""),this.setSearch(e)}},showDefaultItems(){return!this.searchText},searchTermOverMin(){var e;return(null===(e=this.searchText)||void 0===e?void 0:e.length)>v.m},showScopedSearchItems(){return this.searchTermOverMin&&this.scopedSearchOptions.length>0},searchResultsDescription(){return this.showDefaultItems?Object(d.h)(this.$options.i18n.SEARCH_DESCRIBED_BY_DEFAULT,{count:this.searchOptions.length}):this.searchTermOverMin?this.loading?this.$options.i18n.SEARCH_RESULTS_LOADING:Object(d.h)(this.$options.i18n.SEARCH_DESCRIBED_BY_UPDATED,{count:this.searchOptions.length}):this.$options.i18n.MIN_SEARCH_TERM},searchBarItem(){var e;return null===(e=this.searchOptions)||void 0===e?void 0:e[0]},commandPaletteQuery(){var e;return this.isCommandMode?null===(e=this.searchText)||void 0===e?void 0:e.trim().substring(1):""},commandHighlightClass:()=>Object(_.a)()?"gl-bg-gray-10!":"gl-bg-gray-50!"},watch:{nextFocusedItemIndex(){this.highlightFirstCommand()}},methods:{...Object(o.c)(["setSearch","setCommand","fetchAutocompleteOptions","clearAutocomplete"]),getAutocompleteOptions:s()((function(e){this.isCommandMode||(e?this.fetchAutocompleteOptions():this.clearAutocomplete())}),u.h),getFocusableOptions(){var e;return Array.from((null===(e=this.$refs.resultsList)||void 0===e?void 0:e.querySelectorAll(v.l))||[])},handleSubmitSearch(e){this.submitSearch(),this.trackEvent("press_enter_to_advanced_search",{label:"command_palette"}),e.stopPropagation(),e.preventDefault()},onKeydown(e){const{code:t,target:n}=e;let r=!0;if(t===m.e)return void this.handleSubmitSearch(e);const s=this.getFocusableOptions();if(s.length<1)return;const i=null==n?void 0:n.matches(v.i);if(t===m.g){if(i)return;this.focusItem(0,s)}else if(t===m.d){if(i)return;this.focusItem(s.length-1,s)}else if(t===m.b){if(i)return;0===s.indexOf(n)?this.focusSearchInput():this.focusNextItem(e,s,-1)}else if(t===m.a)this.focusNextItem(e,s,1);else if(t===m.f)this.$refs.searchModal.close();else if(t===m.h){var a;null===(a=e.target)||void 0===a||a.firstChild.click()}else r=!1;r&&e.preventDefault()},onKeyComboDown(e){const{code:t,metaKey:n}=e;t===v.e&&n&&(this.commandPaletteDropdownOpen?(this.$refs.commandDropdown.close(),this.commandPaletteDropdownOpen=!1):(this.$refs.commandDropdown.open(),this.commandPaletteDropdownOpen=!0))},handleClosing(){this.commandPaletteDropdownOpen=!1},submitSearch(){var e;this.isCommandMode?this.runFirstCommand():(null===(e=this.search)||void 0===e?void 0:e.length)<=v.m||Object(c.U)(Object(g.d)(this.searchQuery))},runFirstCommand(){var e;null===(e=this.getFocusableOptions()[0])||void 0===e||e.firstChild.click()},onSearchModalShown(){this.$emit("shown"),window.addEventListener("keydown",this.onKeyComboDown)},onSearchModalHidden({trigger:e}={}){switch(this.searchText="",this.$emit("hidden"),window.removeEventListener("keydown",this.onKeyComboDown),e){case this.$options.MODAL_CLOSE_ESC:case this.$options.MODAL_CLOSE_HEADERCLOSE:this.trackEvent("press_escape_in_command_palette");break;case this.$options.MODAL_CLOSE_BACKGROUND:this.trackEvent("click_outside_of_command_palette")}},highlightFirstCommand(){if(this.isCommandMode){var e;const t=null===(e=this.getFocusableOptions()[0])||void 0===e?void 0:e.firstChild;null==t||t.classList.toggle(this.commandHighlightClass,Boolean(!this.nextFocusedItemIndex))}},handleCommandSelection(e){switch(this.searchText=this.stringHasCommand(this.searchText)?`${e}${this.searchText.slice(1)}`:`${e}${this.searchText}`,this.focusSearchInput(),e){case this.$options.COMMAND_HANDLE:this.trackEvent("press_greater_than_in_command_palette");break;case this.$options.USER_HANDLE:this.trackEvent("press_at_symbol_in_command_palette");break;case this.$options.PROJECT_HANDLE:this.trackEvent("press_colon_in_command_palette");break;case this.$options.PATH_HANDLE:this.trackEvent("press_forward_slash_in_command_palette")}},stringHasCommand(e){var t;const n=function(t){return t===(null==e?void 0:e.trim().charAt(0))};return x.b.some(n)||(null===(t=this.searchContext)||void 0===t?void 0:t.project)&&x.b.some(n)},stringFirstChar:e=>null==e?void 0:e.trim().charAt(0)},SEARCH_INPUT_DESCRIPTION:v.h,SEARCH_RESULTS_DESCRIPTION:v.k,COMMAND_HANDLE:x.a,USER_HANDLE:x.J,PROJECT_HANDLE:x.x,ISSUE_HANDLE:x.i,PATH_HANDLE:x.v,MODAL_CLOSE_ESC:x.l,MODAL_CLOSE_BACKGROUND:x.k,MODAL_CLOSE_HEADERCLOSE:x.m},Je=n("MQhr"),ze=n.n(Je),Ke={insert:"head",singleton:!1},We=(J()(ze.a,Ke),ze.a.locals,Object(j.a)(Ye,(function(){var e=this,t=e._self._c;return t("gl-modal",{ref:"modal",attrs:{"modal-id":e.$options.SEARCH_MODAL_ID,"hide-header":"","hide-header-close":"",scrollable:"",title:e.$options.i18n.COMMAND_PALETTE,"body-class":"gl-p-0!","modal-class":"global-search-modal",centered:!1},on:{shown:e.onSearchModalShown,hide:e.onSearchModalHidden},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[t("div",{staticClass:"gl-display-flex gl-flex-grow-1 gl-m-0 gl-align-middle gl-justify-content-space-between"},[t("span",{staticClass:"gl-text-gray-500"},[e._v(e._s(e.$options.i18n.COMMAND_PALETTE_TIP)+" "),t("command-palette-lottery")],1),e._v(" "),t("span",[t("commands-overview-dropdown",{ref:"commandDropdown",attrs:{items:e.commandPaletteDropdownItems},on:{selected:e.handleCommandSelection,hidden:e.handleClosing}})],1)])]},proxy:!0}])},[t("form",{staticClass:"gl-relative gl-rounded-lg gl-w-full gl-pb-0",attrs:{role:"search","aria-label":e.$options.i18n.SEARCH_OR_COMMAND_MODE_PLACEHOLDER}},[t("div",{staticClass:"input-box-wrapper gl-bg-white gl-border-b -gl-mb-1 gl-p-2"},[t("gl-search-box-by-type",{ref:"searchInput",attrs:{id:"search",role:"searchbox","data-testid":"global-search-input",autocomplete:"off",placeholder:e.$options.i18n.SEARCH_OR_COMMAND_MODE_PLACEHOLDER,"aria-describedby":e.$options.SEARCH_INPUT_DESCRIPTION,borderless:""},on:{input:e.getAutocompleteOptions,keydown:e.onKeydown},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),e._v(" "),t("span",{staticClass:"gl-sr-only",attrs:{id:e.$options.SEARCH_INPUT_DESCRIPTION,role:"region"}},[e._v("\n        "+e._s(e.$options.i18n.SEARCH_DESCRIBED_BY_WITH_RESULTS)+"\n      ")]),e._v(" "),e.isCommandMode?t("fake-search-input",{staticClass:"fake-input-wrapper",attrs:{"user-input":e.commandPaletteQuery,scope:e.commandChar}}):e._e()],1),e._v(" "),t("span",{staticClass:"gl-sr-only",attrs:{role:"region","data-testid":e.$options.SEARCH_RESULTS_DESCRIPTION,"aria-live":"polite","aria-atomic":"true"}},[e._v("\n      "+e._s(e.searchResultsDescription)+"\n    ")]),e._v(" "),t("div",{ref:"resultsList",staticClass:"global-search-results gl-w-full gl-display-flex gl-flex-direction-column gl-flex-grow-1 gl-overflow-hidden",on:{keydown:e.onKeydown}},[t("scroll-scrim",{staticClass:"gl-flex-grow-1 gl-overflow-x-hidden!",attrs:{"data-testid":"nav-container"}},[t("div",{staticClass:"gl-pb-3"},[e.isCommandMode?t("command-palette-items",{attrs:{"search-query":e.commandPaletteQuery,handle:e.commandChar},on:{updated:e.highlightFirstCommand}}):e.showDefaultItems?t("global-search-default-items"):[t("global-search-autocomplete-items"),e._v(" "),e.showScopedSearchItems?t("global-search-scoped-items"):e._e()]],2)])],1),e._v(" "),e.searchContext?[e.searchContext.group?t("input",{attrs:{type:"hidden",name:"group_id"},domProps:{value:e.searchContext.group.id}}):e._e(),e._v(" "),e.searchContext.project?t("input",{attrs:{type:"hidden",name:"project_id"},domProps:{value:e.searchContext.project.id}}):e._e(),e._v(" "),e.searchContext.group||e.searchContext.project?[t("input",{attrs:{type:"hidden",name:"scope"},domProps:{value:e.searchContext.scope}}),e._v(" "),t("input",{attrs:{type:"hidden",name:"search_code"},domProps:{value:e.searchContext.code_search}})]:e._e(),e._v(" "),t("input",{attrs:{type:"hidden",name:"snippets"},domProps:{value:e.searchContext.for_snippets}}),e._v(" "),t("input",{attrs:{type:"hidden",name:"repository_ref"},domProps:{value:e.searchContext.ref}})]:e._e()],2)])}),[],!1,null,"2265d270",null));t.default=We.exports},dnFX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return l}));var r=n("/lV4");const s=0,i=0,a="label-search-input-description",o="label-search-results-description",l={header:Object(r.a)("Labels"),scopes:{ISSUES:"issues"},filterParam:"labels"}},dowq:function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"g",(function(){return E})),n.d(t,"e",(function(){return S})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return O})),n.d(t,"h",(function(){return C})),n.d(t,"a",(function(){return T})),n.d(t,"d",(function(){return k}));var r=n("Q33P"),s=n.n(r),i=n("GHFj"),a=n.n(i),o=n("VNnR"),l=n.n(o),c=(n("3UXl"),n("iyoE"),n("byxs"),n("v2fZ"),n("B++/"),n("z6RN"),n("47t/"),n("aFm2"),n("R9qC"),n("lFMf"),n("gOHk"),n("c9hT"),n("dHQd"),n("yoDG"),n("KeS/"),n("tWNI"),n("8d6S"),n("VwWG"),n("IYHS"),n("rIA9"),n("MViX"),n("zglm"),n("GDOA"),n("hlbI"),n("a0mT"),n("u3H1"),n("ta8/"),n("IKCR"),n("nmTw"),n("W2kU"),n("58fc"),n("7dtT"),n("Rhav"),n("uhEP"),n("eppl"),n("n7CP")),u=n("/lV4"),d=n("3twG"),m=n("W+L/"),h=n("9lRJ");const p=m.c.filterParam;function _(e,t){return Object.fromEntries(t.map((function(t){return[t,e[t]]})))}const f=function(e){if(!c.a.canUseLocalStorage())return null;try{return JSON.parse(localStorage.getItem(e))||null}catch{return localStorage.removeItem(e),null}},g=function(e,t){if(!c.a.canUseLocalStorage())return null;try{return localStorage.setItem(e,JSON.stringify(t)),t}catch{return localStorage.removeItem(e),null}},v=function(e,t,n){if(!c.a.canUseLocalStorage())return[];const r=["id","avatar_url","name","full_name","name_with_namespace","frequency","lastUsed"];try{const s=t[e].map((function(e){return _(e,r)})),i=_(n,r),a=s.findIndex((function(e){return e.id===i.id}));if(a>=0){const e=s[a].frequency;s[a].frequency=Math.min(e+1,h.f),s[a].lastUsed=(new Date).getTime()}else s.length>=h.g&&s.pop(),s.push({...i,frequency:1,lastUsed:(new Date).getTime()});return s.sort((function(e,t){return e.frequency>t.frequency?-1:e.frequency<t.frequency?1:t.lastUsed-e.lastUsed})),localStorage.setItem(e,JSON.stringify(s)),s}catch{return localStorage.removeItem(e),[]}},E=function(e,t){return e.map((function(e){return{...(null==t?void 0:t.find((function(t){return t.id===e.id})))||{},...e}}))},S=function(e,t){return h.n.some((function(n){const r=!t[n]&&e[n],s=t[n]&&t[n]!==e[n];return Array.isArray(e[n])||Array.isArray(t[n])?!l()(e[n],t[n]):r||s}))},b=function(e){if(!e)return"0";const t="string"==typeof e?parseInt(e.replace(/,/g,""),10):e;return Object(u.c)(t,h.h)},O=function(){const e=new URL(window.location.href);return e.pathname=Object(d.D)("/search","aggregations"),e.toString()},y=function(e,t){var n;const r=(null===(n=e.query)||void 0===n?void 0:n[p])||[];if(!Array.isArray(r)||!r.length)return t;const s=new Set(r);return a()(t,[function({key:e}){return s.has(e)},"count"],["desc","desc"])},C=function(e,t){return t.map((function(t){return(null==t?void 0:t.name)===p?{...t,buckets:y(e,t.buckets)}:t}))},T=function(e=""){return e.includes("+")?"+":""},k=function(e){const t=new URL(e,Object(d.o)()),n=Object(d.H)(t.search);return f(h.e)&&(n.project_id||n.group_id)&&(n[h.j]=!0),s()(n)?t.pathname:`${t.pathname}?${Object(d.F)(n)}`}},erDj:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CurrentUserFrecentProjects"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"frecentProjects"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"namespace"},name:{kind:"Name",value:"nameWithNamespace"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:135}};n.loc.source={body:"query CurrentUserFrecentProjects {\n  frecentProjects {\n    id\n    name\n    namespace: nameWithNamespace\n    webUrl\n    avatarUrl\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.CurrentUserFrecentProjects=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var r=s(e,t);r&&n.definitions.push(r)})),n}(n,"CurrentUserFrecentProjects")},tTlX:function(e,t,n){"use strict";var r=n("3CjL"),s=n.n(r),i=n("5tFN");t.a={methods:{getFocusableOptions(){var e;return Array.from((null===(e=this.$refs.resultsList)||void 0===e?void 0:e.querySelectorAll(".gl-new-dropdown-item"))||[])},onKeydown(e){const{code:t,target:n}=e;let r=!0;const s=this.getFocusableOptions();if(s.length<1)return;const a=n.matches('input[role="searchbox"]');if(t===i.g){if(a)return;this.focusItem(0,s)}else if(t===i.d){if(a)return;this.focusItem(s.length-1,s)}else if(t===i.b){if(a)return;0===s.indexOf(n)?this.focusSearchInput():this.focusNextItem(e,s,-1)}else if(t===i.a)this.focusNextItem(e,s,1);else if(t===i.f)this.$refs.modal.close();else if(t===i.h){var o;null===(o=e.target)||void 0===o||o.firstChild.click()}else r=!1;r&&e.preventDefault()},focusSearchInput(){var e;null===(e=this.$refs.searchInput.$el.querySelector("input"))||void 0===e||e.focus()},focusNextItem(e,t,n){const{target:r}=e,i=t.indexOf(r),a=s()(i+n,0,t.length-1);this.focusItem(a,t)},focusItem(e,t){var n;this.nextFocusedItemIndex=e,null===(n=t[e])||void 0===n||n.focus()}}}}}]);
//# sourceMappingURL=global_search_modal.ef546d32.chunk.js.map